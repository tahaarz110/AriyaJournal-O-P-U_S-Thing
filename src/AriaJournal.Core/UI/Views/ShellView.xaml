<!-- =============================================================================
ÙØ§ÛŒÙ„: src/AriaJournal.Core/UI/Views/ShellView.xaml
ØªÙˆØ¶ÛŒØ­: ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡ - Ù†Ø³Ø®Ù‡ Ú©Ø§Ù…Ù„ Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Meta-driven + GUI-driven
============================================================================= -->

<Window x:Class="AriaJournal.Core.UI.Views.ShellView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Ø¢Ø±ÛŒØ§ Ú˜ÙˆØ±Ù†Ø§Ù„"
        Width="1280"
        Height="800"
        MinWidth="1024"
        MinHeight="600"
        WindowStartupLocation="CenterScreen"
        FlowDirection="RightToLeft"
        Background="{DynamicResource BackgroundBrush}">

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis"/>
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Ù¾Ù†Ù„ Ú©Ù†Ø§Ø±ÛŒ -->
        <Border Grid.Column="0"
                Background="{DynamicResource SidebarBackgroundBrush}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Ù‡Ø¯Ø± -->
                <Border Grid.Row="0"
                        Background="{DynamicResource PrimaryBrush}"
                        Padding="15">
                    <StackPanel>
                        <TextBlock Text="ðŸ“Š Ø¢Ø±ÛŒØ§ Ú˜ÙˆØ±Ù†Ø§Ù„"
                                   FontSize="20"
                                   FontWeight="Bold"
                                   Foreground="White"/>
                        <TextBlock Text="{Binding UserDisplayName, StringFormat='ðŸ‘¤ {0}'}"
                                   FontSize="13"
                                   Foreground="#CCFFFFFF"
                                   Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Ø§Ù†ØªØ®Ø§Ø¨ Ø­Ø³Ø§Ø¨ -->
                <Border Grid.Row="1"
                        Padding="15"
                        Background="{DynamicResource CardBackgroundBrush}">
                    <StackPanel>
                        <TextBlock Text="Ø­Ø³Ø§Ø¨ ÙØ¹Ø§Ù„:"
                                   FontSize="12"
                                   Foreground="{DynamicResource SecondaryForegroundBrush}"
                                   Margin="0,0,0,5"/>
                        <ComboBox ItemsSource="{Binding Accounts}"
                                  SelectedItem="{Binding SelectedAccount}"
                                  Background="{DynamicResource InputBackgroundBrush}"
                                  Foreground="{DynamicResource ForegroundBrush}"
                                  BorderBrush="{DynamicResource BorderBrush}"
                                  Padding="10,8"
                                  FontSize="14">
                            <ComboBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding DisplayText}"
                                               Foreground="{DynamicResource ForegroundBrush}"/>
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>
                        <Button Content="Ù…Ø¯ÛŒØ±ÛŒØª Ø­Ø³Ø§Ø¨â€ŒÙ‡Ø§"
                                Command="{Binding ManageAccountsCommand}"
                                Style="{DynamicResource LinkButtonStyle}"
                                HorizontalAlignment="Right"
                                Margin="0,5,0,0"
                                FontSize="11"/>
                    </StackPanel>
                </Border>

                <!-- Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ -->
                <ScrollViewer Grid.Row="2"
                              VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10">
                        <!-- Ø¯Ú©Ù…Ù‡ Ø«Ø¨Øª Ù…Ø¹Ø§Ù…Ù„Ù‡ Ø¬Ø¯ÛŒØ¯ -->
                        <Button Command="{Binding NewTradeCommand}"
                                Style="{DynamicResource PrimaryButtonStyle}"
                                Margin="5,5,5,15"
                                Padding="15,12">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="âž•" FontSize="16" Margin="0,0,8,0"/>
                                <TextBlock Text="Ø«Ø¨Øª Ù…Ø¹Ø§Ù…Ù„Ù‡ Ø¬Ø¯ÛŒØ¯" FontSize="14"/>
                            </StackPanel>
                        </Button>

                        <!-- Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ -->
                        <TextBlock Text="Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ"
                                   FontSize="11"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource SecondaryForegroundBrush}"
                                   Margin="10,0,0,5"/>
                        
                        <ItemsControl ItemsSource="{Binding MenuItems}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Button Command="{Binding DataContext.NavigateToCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                                            CommandParameter="{Binding Name}"
                                            Style="{DynamicResource MenuItemButtonStyle}"
                                            Margin="5,2">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="{Binding Icon}"
                                                       FontSize="18"
                                                       Width="30"/>
                                            <TextBlock Text="{Binding Title}"
                                                       VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </Button>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>

                        <!-- =====================================================
                             Ù…Ù†ÙˆÛŒ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ - Meta-driven + GUI-driven
                             ===================================================== -->
                        <Separator Margin="5,15,5,10"
                                   Background="{DynamicResource BorderBrush}"/>

                        <TextBlock Text="ðŸ› ï¸ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§"
                                   FontSize="11"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource SecondaryForegroundBrush}"
                                   Margin="10,0,0,5"/>

                        <!-- Ù…Ø¯ÛŒØ±ÛŒØª ÙÛŒÙ„Ø¯Ù‡Ø§ -->
                        <Button Command="{Binding NavigateToFieldEditorCommand}"
                                Style="{DynamicResource MenuItemButtonStyle}"
                                Margin="5,2">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ”§" FontSize="18" Width="30"/>
                                <TextBlock Text="Ù…Ø¯ÛŒØ±ÛŒØª ÙÛŒÙ„Ø¯Ù‡Ø§" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <!-- Ù…Ø¯ÛŒØ±ÛŒØª Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ -->
                        <Button Command="{Binding NavigateToColumnEditorCommand}"
                                Style="{DynamicResource MenuItemButtonStyle}"
                                Margin="5,2">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ“Š" FontSize="18" Width="30"/>
                                <TextBlock Text="Ù…Ø¯ÛŒØ±ÛŒØª Ø³ØªÙˆÙ†â€ŒÙ‡Ø§" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <!-- Ø¬Ø¯Ø§Ú©Ù†Ù†Ø¯Ù‡ Ù¾Ù„Ø§Ú¯ÛŒÙ†â€ŒÙ‡Ø§ -->
                        <Separator Margin="5,15,5,10"
                                   Background="{DynamicResource BorderBrush}"
                                   Visibility="{Binding PluginMenuItems.Count, Converter={StaticResource BoolToVis}}"/>

                        <!-- Ù…Ù†ÙˆÛŒ Ù¾Ù„Ø§Ú¯ÛŒÙ†â€ŒÙ‡Ø§ -->
                        <TextBlock Text="ðŸ§© Ù¾Ù„Ø§Ú¯ÛŒÙ†â€ŒÙ‡Ø§"
                                   FontSize="11"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource SecondaryForegroundBrush}"
                                   Margin="10,0,0,5"
                                   Visibility="{Binding PluginMenuItems.Count, Converter={StaticResource BoolToVis}}"/>
                        
                        <ItemsControl ItemsSource="{Binding PluginMenuItems}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Button Command="{Binding DataContext.NavigateToCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                                            CommandParameter="{Binding Name}"
                                            Style="{DynamicResource MenuItemButtonStyle}"
                                            Margin="5,2">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="{Binding Icon}"
                                                       FontSize="18"
                                                       Width="30"/>
                                            <TextBlock Text="{Binding Title}"
                                                       VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </Button>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </ScrollViewer>

                <!-- Ù¾Ø§ÛŒÛŒÙ† Ù…Ù†Ùˆ -->
                <Border Grid.Row="3"
                        Padding="10"
                        Background="{DynamicResource CardBackgroundBrush}">
                    <StackPanel>
                        <Button Command="{Binding OpenBackupCommand}"
                                Style="{DynamicResource MenuItemButtonStyle}"
                                Margin="5,2">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ’¾" FontSize="16" Width="30"/>
                                <TextBlock Text="Ù¾Ø´ØªÛŒØ¨Ø§Ù†â€ŒÚ¯ÛŒØ±ÛŒ"/>
                            </StackPanel>
                        </Button>
                        
                        <Button Command="{Binding OpenSettingsCommand}"
                                Style="{DynamicResource MenuItemButtonStyle}"
                                Margin="5,2">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="âš™ï¸" FontSize="16" Width="30"/>
                                <TextBlock Text="ØªÙ†Ø¸ÛŒÙ…Ø§Øª"/>
                            </StackPanel>
                        </Button>
                        
                        <Separator Margin="5,10" Background="{DynamicResource BorderBrush}"/>
                        
                        <Button Command="{Binding LogoutCommand}"
                                Style="{DynamicResource DangerButtonStyle}"
                                Margin="5,2"
                                Padding="10,8">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸšª" FontSize="14" Margin="0,0,8,0"/>
                                <TextBlock Text="Ø®Ø±ÙˆØ¬"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Border>
            </Grid>
        </Border>

        <!-- Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ -->
        <Border Grid.Column="1"
                Background="{DynamicResource BackgroundBrush}">
            <ContentControl x:Name="MainContent"/>
        </Border>
    </Grid>
</Window>

<!-- =============================================================================
Ù¾Ø§ÛŒØ§Ù† ÙØ§ÛŒÙ„: src/AriaJournal.Core/UI/Views/ShellView.xaml
============================================================================= -->