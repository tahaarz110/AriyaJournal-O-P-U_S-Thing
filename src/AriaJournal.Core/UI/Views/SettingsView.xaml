<!-- =============================================================================
ÙØ§ÛŒÙ„: src/AriaJournal.Core/UI/Views/SettingsView.xaml
ØªÙˆØ¶ÛŒØ­: ØµÙØ­Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª - Ø§ØµÙ„Ø§Ø­â€ŒØ´Ø¯Ù‡ Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú©Ø§Ù…Ù„ Ø§Ø² Û´ ØªÙ…
============================================================================= -->

<UserControl x:Class="AriaJournal.Core.UI.Views.SettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             FlowDirection="RightToLeft"
             Background="{DynamicResource BackgroundBrush}">

    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis"/>
    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Ù‡Ø¯Ø± -->
            <TextBlock Grid.Row="0"
                       Text="âš™ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª"
                       FontSize="24"
                       FontWeight="Bold"
                       Foreground="{DynamicResource ForegroundBrush}"
                       Margin="0,0,0,20"/>

            <!-- Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ -->
            <StackPanel Grid.Row="1">
                <Border Background="#E8F5E9"
                        CornerRadius="5"
                        Padding="10"
                        Margin="0,0,0,15"
                        Visibility="{Binding HasSuccess, Converter={StaticResource BoolToVis}}">
                    <TextBlock Text="{Binding SuccessMessage}"
                               Foreground="#2E7D32"/>
                </Border>

                <Border Background="#FFEBEE"
                        CornerRadius="5"
                        Padding="10"
                        Margin="0,0,0,15"
                        Visibility="{Binding HasError, Converter={StaticResource BoolToVis}}">
                    <TextBlock Text="{Binding ErrorMessage}"
                               Foreground="#C62828"/>
                </Border>
            </StackPanel>

            <!-- Ù…Ø­ØªÙˆØ§ -->
            <StackPanel Grid.Row="2">
                
                <!-- Ø¸Ø§Ù‡Ø± Ø¨Ø±Ù†Ø§Ù…Ù‡ -->
                <Border Background="{DynamicResource CardBackgroundBrush}"
                        CornerRadius="10"
                        Padding="20"
                        Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="ðŸŽ¨ Ø¸Ø§Ù‡Ø± Ø¨Ø±Ù†Ø§Ù…Ù‡"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource ForegroundBrush}"
                                   Margin="0,0,0,15"/>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Margin="0,0,10,0">
                                <TextBlock Text="ØªÙ…"
                                           Foreground="{DynamicResource ForegroundBrush}"
                                           Margin="0,0,0,5"/>
                                <ComboBox SelectedIndex="{Binding ThemeIndex, Mode=TwoWay}"
                                          Style="{DynamicResource ComboBoxStyle}">
                                    <ComboBoxItem Content="ðŸŒ™ ØªÛŒØ±Ù‡ (Dark)"/>
                                    <ComboBoxItem Content="â˜€ï¸ Ø±ÙˆØ´Ù† (Light)"/>
                                    <ComboBoxItem Content="ðŸ”µ Ø¢Ø¨ÛŒ (Blue)"/>
                                    <ComboBoxItem Content="ðŸŸ¢ Ø³Ø¨Ø² (Green)"/>
                                </ComboBox>
                            </StackPanel>

                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Ø²Ø¨Ø§Ù†"
                                           Foreground="{DynamicResource ForegroundBrush}"
                                           Margin="0,0,0,5"/>
                                <ComboBox SelectedIndex="{Binding LanguageIndex}"
                                          Style="{DynamicResource ComboBoxStyle}">
                                    <ComboBoxItem Content="ÙØ§Ø±Ø³ÛŒ"/>
                                    <ComboBoxItem Content="English"/>
                                </ComboBox>
                            </StackPanel>
                        </Grid>

                        <!-- Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ ØªÙ… -->
                        <Border Background="{DynamicResource SurfaceBrush}"
                                CornerRadius="8"
                                Padding="15"
                                Margin="0,15,0,0">
                            <StackPanel>
                                <TextBlock Text="Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ ØªÙ… Ø§Ù†ØªØ®Ø§Ø¨â€ŒØ´Ø¯Ù‡"
                                           FontSize="12"
                                           Foreground="{DynamicResource SecondaryForegroundBrush}"
                                           Margin="0,0,0,10"/>
                                <StackPanel Orientation="Horizontal">
                                    <Border Background="{DynamicResource PrimaryBrush}"
                                            CornerRadius="4"
                                            Padding="10,5"
                                            Margin="0,0,10,0">
                                        <TextBlock Text="Ø¯Ú©Ù…Ù‡ Ø§ØµÙ„ÛŒ" Foreground="White"/>
                                    </Border>
                                    <Border Background="{DynamicResource SecondaryBrush}"
                                            CornerRadius="4"
                                            Padding="10,5"
                                            Margin="0,0,10,0">
                                        <TextBlock Text="Ø¯Ú©Ù…Ù‡ Ø«Ø§Ù†ÙˆÛŒÙ‡" 
                                                   Foreground="{DynamicResource ForegroundBrush}"/>
                                    </Border>
                                    <Border Background="{DynamicResource SuccessBrush}"
                                            CornerRadius="4"
                                            Padding="10,5"
                                            Margin="0,0,10,0">
                                        <TextBlock Text="Ù…ÙˆÙÙ‚" Foreground="White"/>
                                    </Border>
                                    <Border Background="{DynamicResource DangerBrush}"
                                            CornerRadius="4"
                                            Padding="10,5">
                                        <TextBlock Text="Ø®Ø·Ø±" Foreground="White"/>
                                    </Border>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Border>

                <!-- Ù†Ù…Ø§ÛŒØ´ -->
                <Border Background="{DynamicResource CardBackgroundBrush}"
                        CornerRadius="10"
                        Padding="20"
                        Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="ðŸ“Š Ù†Ù…Ø§ÛŒØ´"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource ForegroundBrush}"
                                   Margin="0,0,0,15"/>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Margin="0,0,10,0">
                                <TextBlock Text="ÙØ±Ù…Øª ØªØ§Ø±ÛŒØ®"
                                           Foreground="{DynamicResource ForegroundBrush}"
                                           Margin="0,0,0,5"/>
                                <ComboBox ItemsSource="{Binding DateFormats}"
                                          SelectedItem="{Binding SelectedDateFormat}"
                                          Style="{DynamicResource ComboBoxStyle}"/>
                            </StackPanel>

                            <StackPanel Grid.Column="1" Margin="0,0,10,0">
                                <TextBlock Text="ØªØ¹Ø¯Ø§Ø¯ Ø§Ø¹Ø´Ø§Ø± Ù‚ÛŒÙ…Øª"
                                           Foreground="{DynamicResource ForegroundBrush}"
                                           Margin="0,0,0,5"/>
                                <ComboBox SelectedIndex="{Binding PriceDecimalsIndex}"
                                          Style="{DynamicResource ComboBoxStyle}">
                                    <ComboBoxItem Content="2"/>
                                    <ComboBoxItem Content="3"/>
                                    <ComboBoxItem Content="4"/>
                                    <ComboBoxItem Content="5"/>
                                    <ComboBoxItem Content="6"/>
                                </ComboBox>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Ø¢ÛŒØªÙ… Ø¯Ø± Ù‡Ø± ØµÙØ­Ù‡"
                                           Foreground="{DynamicResource ForegroundBrush}"
                                           Margin="0,0,0,5"/>
                                <ComboBox SelectedItem="{Binding ItemsPerPage}"
                                          Style="{DynamicResource ComboBoxStyle}">
                                    <ComboBoxItem Content="25"/>
                                    <ComboBoxItem Content="50"/>
                                    <ComboBoxItem Content="100"/>
                                </ComboBox>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Ù¾Ø´ØªÛŒØ¨Ø§Ù†â€ŒÚ¯ÛŒØ±ÛŒ -->
                <Border Background="{DynamicResource CardBackgroundBrush}"
                        CornerRadius="10"
                        Padding="20"
                        Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="ðŸ’¾ Ù¾Ø´ØªÛŒØ¨Ø§Ù†â€ŒÚ¯ÛŒØ±ÛŒ"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource ForegroundBrush}"
                                   Margin="0,0,0,15"/>

                        <CheckBox Content="Ù¾Ø´ØªÛŒØ¨Ø§Ù†â€ŒÚ¯ÛŒØ±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±"
                                  IsChecked="{Binding AutoBackup}"
                                  Foreground="{DynamicResource ForegroundBrush}"
                                  Margin="0,0,0,15"/>

                        <StackPanel Orientation="Horizontal"
                                    Visibility="{Binding AutoBackup, Converter={StaticResource BoolToVis}}">
                            <TextBlock Text="Ù‡Ø±"
                                       Foreground="{DynamicResource ForegroundBrush}"
                                       VerticalAlignment="Center"
                                       Margin="0,0,10,0"/>
                            <ComboBox Width="80"
                                      SelectedItem="{Binding BackupInterval}"
                                      Style="{DynamicResource ComboBoxStyle}">
                                <ComboBoxItem Content="1"/>
                                <ComboBoxItem Content="3"/>
                                <ComboBoxItem Content="7"/>
                                <ComboBoxItem Content="14"/>
                                <ComboBoxItem Content="30"/>
                            </ComboBox>
                            <TextBlock Text="Ø±ÙˆØ² ÛŒÚ©Ø¨Ø§Ø±"
                                       Foreground="{DynamicResource ForegroundBrush}"
                                       VerticalAlignment="Center"
                                       Margin="10,0,0,0"/>
                        </StackPanel>

                        <StackPanel Margin="0,15,0,0">
                            <TextBlock Text="Ù…Ø³ÛŒØ± Ù¾Ø´ØªÛŒØ¨Ø§Ù†â€ŒÚ¯ÛŒØ±ÛŒ:"
                                       Foreground="{DynamicResource ForegroundBrush}"
                                       Margin="0,0,0,5"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBox Grid.Column="0"
                                         Text="{Binding BackupPath}"
                                         Style="{DynamicResource TextBoxStyle}"
                                         IsReadOnly="True"/>
                                <Button Grid.Column="1"
                                        Content="Ø§Ù†ØªØ®Ø§Ø¨..."
                                        Command="{Binding SelectBackupPathCommand}"
                                        Style="{DynamicResource SecondaryButtonStyle}"
                                        Margin="10,0,0,0"/>
                            </Grid>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± -->
                <Border Background="{DynamicResource CardBackgroundBrush}"
                        CornerRadius="10"
                        Padding="20"
                        Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="ðŸ”’ ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"
                                   FontSize="16"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource ForegroundBrush}"
                                   Margin="0,0,0,15"/>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Margin="0,0,10,0">
                                <TextBlock Text="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± ÙØ¹Ù„ÛŒ"
                                           Foreground="{DynamicResource ForegroundBrush}"
                                           Margin="0,0,0,5"/>
                                <PasswordBox x:Name="CurrentPasswordBox"
                                             Style="{DynamicResource PasswordBoxStyle}"/>
                            </StackPanel>

                            <StackPanel Grid.Column="1" Margin="0,0,10,0">
                                <TextBlock Text="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¬Ø¯ÛŒØ¯"
                                           Foreground="{DynamicResource ForegroundBrush}"
                                           Margin="0,0,0,5"/>
                                <PasswordBox x:Name="NewPasswordBox"
                                             Style="{DynamicResource PasswordBoxStyle}"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="ØªÚ©Ø±Ø§Ø± Ø±Ù…Ø² Ø¬Ø¯ÛŒØ¯"
                                           Foreground="{DynamicResource ForegroundBrush}"
                                           Margin="0,0,0,5"/>
                                <PasswordBox x:Name="ConfirmPasswordBox"
                                             Style="{DynamicResource PasswordBoxStyle}"/>
                            </StackPanel>
                        </Grid>

                        <Button Content="ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"
                                Command="{Binding ChangePasswordCommand}"
                                Style="{DynamicResource SecondaryButtonStyle}"
                                HorizontalAlignment="Right"
                                Margin="0,15,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Ø¯Ú©Ù…Ù‡ Ø°Ø®ÛŒØ±Ù‡ -->
                <Button Content="ðŸ’¾ Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª"
                        Command="{Binding SaveCommand}"
                        Style="{DynamicResource PrimaryButtonStyle}"
                        HorizontalAlignment="Right"
                        Width="200"
                        Height="45"
                        FontSize="16"
                        Margin="0,10,0,20"/>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</UserControl>

<!-- =============================================================================
Ù¾Ø§ÛŒØ§Ù† ÙØ§ÛŒÙ„: src/AriaJournal.Core/UI/Views/SettingsView.xaml
============================================================================= -->