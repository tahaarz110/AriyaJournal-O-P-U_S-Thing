<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- ÙØ§ÛŒÙ„: PluginManagerView.xaml -->
<!-- Ù…Ø³ÛŒØ±: src/AriaJournal.Core/UI/Views/PluginManagerView.xaml -->
<!-- ØªÙˆØ¶ÛŒØ­: ØµÙØ­Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ù„Ø§Ú¯ÛŒÙ†â€ŒÙ‡Ø§ -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<UserControl x:Class="AriaJournal.Core.UI.Views.PluginManagerView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             FlowDirection="RightToLeft"
             Background="{DynamicResource BackgroundBrush}">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Ù‡Ø¯Ø± -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="ðŸ”Œ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ù„Ø§Ú¯ÛŒÙ†â€ŒÙ‡Ø§" 
                       FontSize="24" 
                       FontWeight="Bold"/>
            <TextBlock Text="Ù¾Ù„Ø§Ú¯ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ù†ØµØ¨â€ŒØ´Ø¯Ù‡ Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯"
                       Foreground="Gray"
                       Margin="0,5,0,0"/>
        </StackPanel>

        <!-- Ù†ÙˆØ§Ø± Ø§Ø¨Ø²Ø§Ø± -->
        <Border Grid.Row="1" 
                Background="{DynamicResource CardBrush}"
                CornerRadius="8"
                Padding="15"
                Margin="0,0,0,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Ø¬Ø³ØªØ¬Ùˆ -->
                <TextBox Grid.Column="0"
                         Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                         Style="{DynamicResource ModernTextBox}"
                         Padding="10"
                         Margin="0,0,15,0">
                    <TextBox.Resources>
                        <VisualBrush x:Key="HintBrush" TileMode="None" Stretch="None" AlignmentX="Right">
                            <VisualBrush.Visual>
                                <TextBlock Text="ðŸ” Ø¬Ø³ØªØ¬ÙˆÛŒ Ù¾Ù„Ø§Ú¯ÛŒÙ†..." Foreground="Gray"/>
                            </VisualBrush.Visual>
                        </VisualBrush>
                    </TextBox.Resources>
                </TextBox>

                <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ -->
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button Content="ðŸ“‚ Ù†ØµØ¨ Ù¾Ù„Ø§Ú¯ÛŒÙ† Ø¬Ø¯ÛŒØ¯"
                            Command="{Binding InstallPluginCommand}"
                            Style="{DynamicResource PrimaryButton}"
                            Margin="0,0,10,0"/>
                    <Button Content="ðŸ”„ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ"
                            Command="{Binding RefreshCommand}"
                            Style="{DynamicResource SecondaryButton}"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Ù„ÛŒØ³Øª Ù¾Ù„Ø§Ú¯ÛŒÙ†â€ŒÙ‡Ø§ -->
        <Border Grid.Row="2" 
                Background="{DynamicResource CardBrush}"
                CornerRadius="8">
            <Grid>
                <!-- Empty State -->
                <StackPanel HorizontalAlignment="Center" 
                            VerticalAlignment="Center"
                            Visibility="{Binding IsEmpty, Converter={StaticResource BoolToVisibilityConverter}}">
                    <TextBlock Text="ðŸ“¦" FontSize="64" HorizontalAlignment="Center"/>
                    <TextBlock Text="Ù¾Ù„Ø§Ú¯ÛŒÙ†ÛŒ Ù†ØµØ¨ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª" 
                               FontSize="18"
                               Foreground="Gray"
                               HorizontalAlignment="Center"
                               Margin="0,15,0,0"/>
                    <TextBlock Text="Ø¨Ø±Ø§ÛŒ Ø§ÙØ²ÙˆØ¯Ù† Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ØŒ Ù¾Ù„Ø§Ú¯ÛŒÙ† Ù†ØµØ¨ Ú©Ù†ÛŒØ¯"
                               Foreground="Gray"
                               HorizontalAlignment="Center"
                               Margin="0,5,0,0"/>
                </StackPanel>

                <!-- Ù„ÛŒØ³Øª -->
                <ListView ItemsSource="{Binding Plugins}"
                          SelectedItem="{Binding SelectedPlugin}"
                          BorderThickness="0"
                          Background="Transparent"
                          Visibility="{Binding HasPlugins, Converter={StaticResource BoolToVisibilityConverter}}">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Border Background="{DynamicResource BackgroundBrush}"
                                    CornerRadius="8"
                                    Padding="15"
                                    Margin="5">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="50"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Ø¢ÛŒÚ©ÙˆÙ† -->
                                    <Border Grid.Column="0"
                                            Width="40" Height="40"
                                            CornerRadius="8"
                                            Background="{DynamicResource PrimaryBrush}">
                                        <TextBlock Text="{Binding Icon}"
                                                   FontSize="20"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"/>
                                    </Border>

                                    <!-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª -->
                                    <StackPanel Grid.Column="1" Margin="15,0">
                                        <TextBlock Text="{Binding Name}" 
                                                   FontWeight="Bold"
                                                   FontSize="14"/>
                                        <TextBlock Text="{Binding Description}"
                                                   Foreground="Gray"
                                                   TextTrimming="CharacterEllipsis"
                                                   MaxWidth="400"/>
                                        <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                            <TextBlock Text="Ù†Ø³Ø®Ù‡:" Foreground="Gray" FontSize="11"/>
                                            <TextBlock Text="{Binding Version}" 
                                                       Foreground="Gray" 
                                                       FontSize="11"
                                                       Margin="5,0,15,0"/>
                                            <TextBlock Text="Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡:" Foreground="Gray" FontSize="11"/>
                                            <TextBlock Text="{Binding Author}" 
                                                       Foreground="Gray" 
                                                       FontSize="11"
                                                       Margin="5,0,0,0"/>
                                        </StackPanel>
                                    </StackPanel>

                                    <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ -->
                                    <StackPanel Grid.Column="2" 
                                                Orientation="Horizontal"
                                                VerticalAlignment="Center">
                                        <!-- Toggle ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„ -->
                                        <ToggleButton IsChecked="{Binding IsEnabled}"
                                                      Command="{Binding DataContext.TogglePluginCommand, RelativeSource={RelativeSource AncestorType=ListView}}"
                                                      CommandParameter="{Binding}"
                                                      Style="{DynamicResource ToggleSwitch}"
                                                      Margin="0,0,10,0"/>
                                        
                                        <!-- ØªÙ†Ø¸ÛŒÙ…Ø§Øª -->
                                        <Button Content="âš™ï¸"
                                                Command="{Binding DataContext.OpenPluginSettingsCommand, RelativeSource={RelativeSource AncestorType=ListView}}"
                                                CommandParameter="{Binding}"
                                                Style="{DynamicResource IconButton}"
                                                ToolTip="ØªÙ†Ø¸ÛŒÙ…Ø§Øª"
                                                Visibility="{Binding HasSettings, Converter={StaticResource BoolToVisibilityConverter}}"
                                                Margin="0,0,5,0"/>
                                        
                                        <!-- Ø­Ø°Ù -->
                                        <Button Content="ðŸ—‘ï¸"
                                                Command="{Binding DataContext.UninstallPluginCommand, RelativeSource={RelativeSource AncestorType=ListView}}"
                                                CommandParameter="{Binding}"
                                                Style="{DynamicResource DangerIconButton}"
                                                ToolTip="Ø­Ø°Ù Ù¾Ù„Ø§Ú¯ÛŒÙ†"/>
                                    </StackPanel>
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </Grid>
        </Border>

        <!-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒÛŒÙ† -->
        <Border Grid.Row="3" 
                Background="{DynamicResource CardBrush}"
                CornerRadius="8"
                Padding="15"
                Margin="0,15,0,0">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="ðŸ“ Ù¾ÙˆØ´Ù‡ Ù¾Ù„Ø§Ú¯ÛŒÙ†â€ŒÙ‡Ø§:" Foreground="Gray"/>
                    <TextBlock Text="{Binding PluginFolder}" 
                               Margin="10,0,0,0"
                               Foreground="Gray"/>
                </StackPanel>

                <Button Grid.Column="1"
                        Content="ðŸ“‚ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù¾ÙˆØ´Ù‡"
                        Command="{Binding OpenPluginFolderCommand}"
                        Style="{DynamicResource LinkButton}"/>
            </Grid>
        </Border>
    </Grid>
</UserControl>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- Ù¾Ø§ÛŒØ§Ù† ÙØ§ÛŒÙ„: PluginManagerView.xaml -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->