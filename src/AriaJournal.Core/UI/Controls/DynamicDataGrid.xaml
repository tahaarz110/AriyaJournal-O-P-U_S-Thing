<!-- =============================================================================
ÙØ§ÛŒÙ„: src/AriaJournal.Core/UI/Controls/DynamicDataGrid.xaml
ØªÙˆØ¶ÛŒØ­: Ú©Ù†ØªØ±Ù„ Ú¯Ø±ÛŒØ¯ Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ© Ø§Ø² Schema
============================================================================= -->

<UserControl x:Class="AriaJournal.Core.UI.Controls.DynamicDataGrid"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             FlowDirection="RightToLeft">

    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis"/>
    </UserControl.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Ù†ÙˆØ§Ø± Ø§Ø¨Ø²Ø§Ø± -->
        <Border Grid.Row="0"
                Background="{DynamicResource CardBackgroundBrush}"
                BorderBrush="{DynamicResource BorderBrush}"
                BorderThickness="0,0,0,1"
                Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Ø¬Ø³ØªØ¬Ùˆ -->
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBox x:Name="SearchBox"
                             Width="250"
                             Padding="8,6"
                             VerticalContentAlignment="Center"/>
                    <Button x:Name="SearchButton"
                            Content="ðŸ”"
                            Margin="5,0,0,0"
                            Padding="10,6"
                            Click="SearchButton_Click"/>
                </StackPanel>

                <!-- ÙÛŒÙ„ØªØ±Ù‡Ø§ÛŒ Ø³Ø±ÛŒØ¹ -->
                <StackPanel Grid.Column="1"
                            x:Name="QuickFiltersPanel"
                            Orientation="Horizontal"
                            Margin="15,0"/>

                <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ù…Ù„ÛŒØ§Øª -->
                <StackPanel Grid.Column="2" Orientation="Horizontal">
                    <Button x:Name="RefreshButton"
                            Content="ðŸ”„"
                            ToolTip="Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ"
                            Padding="10,6"
                            Click="RefreshButton_Click"/>
                    <Button x:Name="ExportButton"
                            Content="ðŸ“¥"
                            ToolTip="Ø®Ø±ÙˆØ¬ÛŒ"
                            Padding="10,6"
                            Margin="5,0,0,0"
                            Click="ExportButton_Click"/>
                    <Button x:Name="ColumnSettingsButton"
                            Content="âš™ï¸"
                            ToolTip="ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø³ØªÙˆÙ†â€ŒÙ‡Ø§"
                            Padding="10,6"
                            Margin="5,0,0,0"
                            Click="ColumnSettingsButton_Click"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Ú¯Ø±ÛŒØ¯ Ø§ØµÙ„ÛŒ -->
        <DataGrid x:Name="MainDataGrid"
                  Grid.Row="1"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  CanUserDeleteRows="False"
                  IsReadOnly="True"
                  SelectionMode="Single"
                  SelectionUnit="FullRow"
                  GridLinesVisibility="Horizontal"
                  HeadersVisibility="Column"
                  RowHeaderWidth="0"
                  Background="{DynamicResource BackgroundBrush}"
                  Foreground="{DynamicResource ForegroundBrush}"
                  BorderThickness="0"
                  VerticalScrollBarVisibility="Auto"
                  HorizontalScrollBarVisibility="Auto">
            <DataGrid.RowStyle>
                <Style TargetType="DataGridRow">
                    <Setter Property="Background" Value="Transparent"/>
                    <Style.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Background" Value="{DynamicResource SelectedBrush}"/>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="{DynamicResource HoverBrush}"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </DataGrid.RowStyle>
            <DataGrid.ColumnHeaderStyle>
                <Style TargetType="DataGridColumnHeader">
                    <Setter Property="Background" Value="{DynamicResource CardBackgroundBrush}"/>
                    <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
                    <Setter Property="Padding" Value="10,8"/>
                    <Setter Property="FontWeight" Value="SemiBold"/>
                    <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
                    <Setter Property="BorderThickness" Value="0,0,1,1"/>
                </Style>
            </DataGrid.ColumnHeaderStyle>
            <DataGrid.CellStyle>
                <Style TargetType="DataGridCell">
                    <Setter Property="Padding" Value="10,8"/>
                    <Setter Property="BorderThickness" Value="0"/>
                    <Style.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </DataGrid.CellStyle>
        </DataGrid>

        <!-- ØµÙØ­Ù‡â€ŒØ¨Ù†Ø¯ÛŒ -->
        <Border Grid.Row="2"
                x:Name="PaginationPanel"
                Background="{DynamicResource CardBackgroundBrush}"
                BorderBrush="{DynamicResource BorderBrush}"
                BorderThickness="0,1,0,0"
                Padding="15,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØµÙØ­Ù‡ -->
                <TextBlock x:Name="PageInfoText"
                           Grid.Column="0"
                           VerticalAlignment="Center"
                           Foreground="{DynamicResource SecondaryForegroundBrush}"/>

                <!-- Ú©Ù†ØªØ±Ù„ ØµÙØ­Ù‡â€ŒØ¨Ù†Ø¯ÛŒ -->
                <StackPanel Grid.Column="1"
                            Orientation="Horizontal"
                            HorizontalAlignment="Center">
                    <Button x:Name="FirstPageButton"
                            Content="â®ï¸"
                            Padding="8,4"
                            Click="FirstPageButton_Click"/>
                    <Button x:Name="PrevButton"
                            Content="â—€"
                            Padding="8,4"
                            Margin="5,0"
                            Click="PrevButton_Click"/>
                    <TextBlock x:Name="PageNumberText"
                               VerticalAlignment="Center"
                               Margin="10,0"
                               FontWeight="SemiBold"/>
                    <Button x:Name="NextButton"
                            Content="â–¶"
                            Padding="8,4"
                            Margin="5,0"
                            Click="NextButton_Click"/>
                    <Button x:Name="LastPageButton"
                            Content="â­ï¸"
                            Padding="8,4"
                            Click="LastPageButton_Click"/>
                </StackPanel>

                <!-- Ø§Ù†ØªØ®Ø§Ø¨ ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø± ØµÙØ­Ù‡ -->
                <StackPanel Grid.Column="2"
                            Orientation="Horizontal"
                            HorizontalAlignment="Left">
                    <TextBlock Text="ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø± ØµÙØ­Ù‡:"
                               VerticalAlignment="Center"
                               Margin="0,0,10,0"/>
                    <ComboBox x:Name="PageSizeCombo"
                              Width="70"
                              SelectedIndex="1"
                              SelectionChanged="PageSizeCombo_SelectionChanged">
                        <ComboBoxItem Content="25"/>
                        <ComboBoxItem Content="50"/>
                        <ComboBoxItem Content="100"/>
                        <ComboBoxItem Content="200"/>
                    </ComboBox>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Ù„ÙˆØ¯ÛŒÙ†Ú¯ -->
        <Border Grid.RowSpan="3"
                x:Name="LoadingOverlay"
                Background="#80000000"
                Visibility="Collapsed">
            <StackPanel VerticalAlignment="Center"
                        HorizontalAlignment="Center">
                <ProgressBar IsIndeterminate="True"
                             Width="150"
                             Height="4"/>
                <TextBlock Text="Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."
                           Foreground="White"
                           HorizontalAlignment="Center"
                           Margin="0,15,0,0"/>
            </StackPanel>
        </Border>

        <!-- Ø¨Ø¯ÙˆÙ† Ø¯Ø§Ø¯Ù‡ -->
        <Border Grid.Row="1"
                x:Name="NoDataOverlay"
                Visibility="Collapsed">
            <StackPanel VerticalAlignment="Center"
                        HorizontalAlignment="Center">
                <TextBlock Text="ðŸ“­"
                           FontSize="48"
                           HorizontalAlignment="Center"/>
                <TextBlock Text="Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯"
                           FontSize="16"
                           Foreground="{DynamicResource SecondaryForegroundBrush}"
                           HorizontalAlignment="Center"
                           Margin="0,15,0,0"/>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>

<!-- =============================================================================
Ù¾Ø§ÛŒØ§Ù† ÙØ§ÛŒÙ„: src/AriaJournal.Core/UI/Controls/DynamicDataGrid.xaml
============================================================================= -->